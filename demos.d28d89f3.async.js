"use strict";(self.webpackChunkdistrict_data=self.webpackChunkdistrict_data||[]).push([[433],{15482:function(ue,w,e){e.d(w,{H7:function(){return E},O6:function(){return B},Y2:function(){return z}});var $=e(78445),S=e(67473),U=e.n(S),u=e(84893),W=e(12816),A=e.n(W),G=e(12450);function z(c){var d=(0,$.Z)(c).bbox||[-180,-90,180,90],x=1e3,P=800,y=U()({mapExtent:{left:d[0],bottom:d[1],right:d[2],top:d[3]},precision:8,attributes:["properties.adcode","properties.name",{property:"stroke",value:"blue",type:"static"},{property:"fill",value:"#aaa",type:"static"}],viewportSize:{width:x,height:P},fitToViewBox:!0,outputFormat:"svg"}),Q=y.convert(c).join();return'<svg width="'.concat(x,'" height="').concat(P,'" xmlns="http://www.w3.org/2000/svg"> ').concat(Q,"</svg>")}function E(c,d){var x={folder:d,types:{point:"".concat(d,"points"),polygon:"".concat(d,"polygons"),line:"".concat(d,"lines")}};u.download(c,x)}function C(c){return JSON.stringify(G.MM({data:c}))}function _(c){return JSON.stringify(c)}function F(c){var d=c.features.map(function(y){return y.properties});if(d.length!==0){var x=Object.keys(d[0]||{}),P=[x.join(",")];return d.forEach(function(y){var Q=x.map(function(ne){return y[ne]});P.push(Q.join(","))}),P.join(`
`)}}function ee(c){var d=c.features.map(function(x){return x.properties});return JSON.stringify(d)}function H(c){var d=A()(c);return d}function B(c,d,x){var P=x==="SVG"?z(d):x==="TopoJSON"?C(d):x==="GeoJSON"?_(d):x==="CSV"?F(d):x==="JSON"?ee(d):x==="KML"?H(d):"",y=document.createElement("a");y.download="".concat(c,".").concat(x.toLowerCase()),y.href="data:text/json;charset=utf-8,".concat(encodeURIComponent(P)),y.target="_blank",y.rel="noreferrer",y.click()}},20668:function(ue,w,e){e.r(w),e.d(w,{default:function(){return X}});var $=e(97857),S=e.n($),U=e(5574),u=e.n(U),W=e(38244),A=e(76364),G=e(23672),z=e(18662),E=e(67294),C=e(15482),_=e(71721),F=e(74951),ee=e(3614),H=e.n(ee),B=e(85893),c=[{title:"name",dataIndex:"name",sorter:!0},{title:"adcode",dataIndex:"adcode"},{title:"city_type",dataIndex:"city_type"},{title:"city_adcode",dataIndex:"city_adcode"},{title:"name_en",dataIndex:"name_en"},{title:"name_var",dataIndex:"name_var"},{title:"province_adcode",dataIndex:"province_adcode"},{title:"province",dataIndex:"province"},{title:"province_type",dataIndex:"province_type"}],d=function(j){var b=(0,E.useState)(),M=u()(b,2),K=M[0],N=M[1],L=(0,E.useState)(!1),n=u()(L,2),s=n[0],r=n[1],a=function(){r(!0),fetch("https://unpkg.com/xingzhengqu@2023/data/city.pbf").then(function(o){return o.arrayBuffer()}).then(function(o){var f=F.decode(new(H())(o));j==null||j.onDataLoad({city:f});var g=f.features.map(function(h){return h.properties});N(g),r(!1)})};return(0,E.useEffect)(function(){a()},[]),(0,B.jsx)(_.Z,{columns:c,rowKey:function(o){return o.adcode},dataSource:K,loading:s,size:"small",scroll:{x:1e3,y:500},pagination:{pageSize:20,simple:!0}})},x=d,P=[{title:"name",dataIndex:"name",sorter:!0},{title:"adcode",dataIndex:"adcode"},{title:"county",dataIndex:"county"},{title:"county_type",dataIndex:"county_type"},{title:"city_type",dataIndex:"city_type"},{title:"county_adcode",dataIndex:"county_adcode"},{title:"city_adcode",dataIndex:"city_adcode"},{title:"name_en",dataIndex:"name_en"},{title:"name_var",dataIndex:"name_var"},{title:"province_adcode",dataIndex:"province_adcode"},{title:"province",dataIndex:"province"},{title:"province_type",dataIndex:"province_type"}],y=function(j){var b=(0,E.useState)(),M=u()(b,2),K=M[0],N=M[1],L=(0,E.useState)(!1),n=u()(L,2),s=n[0],r=n[1],a=function(){r(!0),fetch("https://unpkg.com/xingzhengqu@2023/data/county.pbf").then(function(o){return o.arrayBuffer()}).then(function(o){var f=F.decode(new(H())(o));j==null||j.onDataLoad({county:f});var g=f.features.map(function(h){return h.properties});N(g),r(!1)})};return(0,E.useEffect)(function(){a()},[]),(0,B.jsx)(_.Z,{columns:P,rowKey:function(o){return o.adcode},dataSource:K,loading:s,size:"small",scroll:{x:1e3,y:500},pagination:{pageSize:50,simple:!0}})},Q=y,ne=[{title:"name",dataIndex:"name",sorter:!0,width:"20%"},{title:"name_en",dataIndex:"name_en",width:"20%"},{title:"name_var",dataIndex:"name_var"},{title:"adcode",dataIndex:"adcode"},{title:"province_adcode",dataIndex:"province_adcode"}],re=function(j){var b=(0,E.useState)(),M=u()(b,2),K=M[0],N=M[1],L=(0,E.useState)(!1),n=u()(L,2),s=n[0],r=n[1],a=function(){r(!0),fetch("https://unpkg.com/xingzhengqu@2023/data/province.pbf").then(function(o){return o.arrayBuffer()}).then(function(o){var f=F.decode(new(H())(o));j==null||j.onDataLoad({province:f});var g=f.features.map(function(h){return h.properties});N(g),r(!1)})};return(0,E.useEffect)(function(){a()},[]),(0,B.jsx)(_.Z,{columns:ne,rowKey:function(o){return o.adcode},dataSource:K,loading:s,size:"small",pagination:{pageSize:20},scroll:{x:1e3,y:500}})},se=re,te=function(){var j=(0,E.useState)("province"),b=u()(j,2),M=b[0],K=b[1],N=(0,E.useState)({}),L=u()(N,2),n=L[0],s=L[1],r=function(g){K(g)},a=function(g){s(S()(S()({},n),g))},i=[{key:"province",label:"\u7701\u7EA7",children:(0,B.jsx)(se,{onDataLoad:a})},{key:"city",label:"\u5E02\u7EA7",children:(0,B.jsx)(x,{onDataLoad:a})},{key:"county",label:"\u53BF\u7EA7",children:(0,B.jsx)(Q,{onDataLoad:a})}],o=[{key:"csv",label:"CSV \u683C\u5F0F"},{key:"json",label:"JSON \u683C\u5F0F"}];return(0,B.jsx)(A.Z,{tabBarExtraContent:{right:(0,B.jsx)(G.Z,{menu:{items:o,onClick:function(g){var h=g.key;console.log(M,n),(0,C.O6)(M,n[M],h)}},placement:"bottom",children:(0,B.jsx)(z.ZP,{type:"primary",shape:"round",icon:(0,B.jsx)(W.Z,{}),size:"middle",children:"\u5BFC\u51FA\u6570\u636E"})})},defaultActiveKey:"1",items:i,size:"large",style:{height:"650px"},onChange:r})},X=te},98504:function(ue,w,e){e.r(w),e.d(w,{default:function(){return ae}});var $=e(19632),S=e.n($),U=e(15009),u=e.n(U),W=e(99289),A=e.n(W),G=e(9783),z=e.n(G),E=e(97857),C=e.n(E),_=e(5574),F=e.n(_),ee=e(38244),H=e(58093),B=e(99290),c=e(98163),d=e(247),x=e(75081),P=e(25968),y=e(6226),Q=e(33394),ne=e(96074),re=e(27511),se=e(72269),te=e(33573),X=e(18662),oe=e(79995),j=e(67294),b=e(15482),M={autoFit:!0,fillColor:"#377eb8",opacity:.3,strokeColor:"blue",lineWidth:.5,state:{active:{strokeColor:"green",lineWidth:1.5,lineOpacity:.8},select:{strokeColor:"red",lineWidth:1.5,lineOpacity:.8}}},K={mapType:"Gaode",mapOptions:{style:"light",center:[120.210792,30.246026],zoom:3,doubleClickZoom:!1}},N={country:"province",province:"city",city:"district"},L={district:"city",city:"province",province:"country",country:"",jiuduanxian:""},n=function(J){var q=document.createElement("input");q.value=J,document.body.appendChild(q),q.select(),document.execCommand("Copy"),q.style.display="none",message.success("\u590D\u5236\u6210\u529F")},s=function(){return[{layer:"myChoroplethLayer",fields:[{field:"name",formatField:function(){return"\u540D\u79F0"}},{field:"adcode",formatField:"\u884C\u653F\u7F16\u53F7"}]}]},r=[{value:"DataVSource",label:"dataV\u6570\u636E\u6E90"},{value:"RDBSource",label:"\u6570\u636E\u6E90"}],a=[{key:"GeoJSON",value:"GeoJSON",label:"GeoJSON"},{key:"TopoJSON",value:"TopoJSON",label:"TopoJSON"},{key:"Shapefiles",value:"Shapefiles",label:"Shapefiles"},{key:"JSON",value:"JSON",label:"JSON"},{key:"CSV",value:"CSV",label:"CSV"},{key:"KML",value:"KML",label:"KML"}],i={DataVSource:[{value:"areas_v3",label:"areas_v3"},{value:"areas_v2",label:"areas_v2"}],RDBSource:[{value:"2023",label:"2023"},{value:"2022",label:"2022"}]},o=[{value:"low",label:"\u4F4E"},{value:"middle",label:"\u4E2D"},{value:"high",label:"\u9AD8"}],f={sourceType:"RDBSource",sourceVersion:"2023",currentLevel:"country",currentName:"\u4E2D\u56FD",currentCode:1e5,hasSubChildren:!0,childrenLevel:"province",datatype:"GeoJSON"},g=function(J){switch(J){case"country":return"country";case"province":return"country";case"city":return"province";case"county":return"city";default:return}},h=function(J){switch(J){case"country":return"province";case"province":return"city";case"city":return"county";case"county":return"county";default:return}},Z=function(J){switch(console.log(J),J){case"country":return["province","city","county"];case"province":return["city","county"];case"city":return["county"];default:return[]}},t=e(85893),ae=function(){var k,J,q,de,Ce=(0,j.useState)({data:{type:"FeatureCollection",features:[]},parser:{type:"geojson"}}),ye=F()(Ce,2),xe=ye[0],ve=ye[1],ie="middle",je=(0,j.useState)(f),me=F()(je,2),p=me[0],fe=me[1],Le=(0,j.useState)([{currentLevel:"country",currentName:"\u4E2D\u56FD",currentCode:1e5}]),ge=F()(Le,2),he=ge[0],De=ge[1],pe=(0,j.useMemo)(function(){return Z(p.currentLevel)},[p.currentLevel]),le=function(D,v){fe(C()(C()({},p),{},z()({},D,v)))},Ee=(0,j.useState)(),Se=F()(Ee,2),I=Se[0],Oe=Se[1],ce=function(){var T=A()(u()().mark(function D(){var v,m,O,l,Y;return u()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(v=p.currentLevel,m=p.hasSubChildren,O=p.childrenLevel,l=p.currentCode,m){V.next=7;break}return V.next=4,I==null?void 0:I.getChildrenData({parentLevel:v,parentAdcode:l,childrenLevel:v});case 4:Y=V.sent,V.next=10;break;case 7:return V.next=9,I==null?void 0:I.getChildrenData({parentLevel:v,parentAdcode:l,childrenLevel:O});case 9:Y=V.sent;case 10:return V.abrupt("return",Y);case 11:case"end":return V.stop()}},D)}));return function(){return T.apply(this,arguments)}}(),Ae=function(){var T=A()(u()().mark(function D(){var v,m,O;return u()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return v=p.datatype,m=p.currentName,Y.next=3,ce();case 3:O=Y.sent,v==="Shapefiles"?(0,b.H7)(O,m):(0,b.O6)(m,O,v);case 5:case"end":return Y.stop()}},D)}));return function(){return T.apply(this,arguments)}}(),Pe=function(){var T=A()(u()().mark(function D(){var v,m;return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return v=p.currentName,l.next=3,ce();case 3:return m=l.sent,l.abrupt("return",(0,b.O6)(v,m,"SVG"));case 5:case"end":return l.stop()}},D)}));return function(){return T.apply(this,arguments)}}(),Ie=function(){var T=A()(u()().mark(function D(){var v,m;return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,ce();case 2:if(v=l.sent,m=p.datatype,m!=="Shapefiles"){l.next=7;break}return d.ZP.warning("\u6682\u4E0D\u652F\u6301\u590D\u5236Shapefiles\u6570\u636E"),l.abrupt("return");case 7:navigator.clipboard.writeText(JSON.stringify(v)),d.ZP.success("\u590D\u5236\u6210\u529F");case 9:case"end":return l.stop()}},D)}));return function(){return T.apply(this,arguments)}}(),Ze=function(){var T=A()(u()().mark(function D(){var v,m;return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,ce();case 2:return v=l.sent,l.next=5,(0,b.Y2)(v);case 5:m=l.sent,navigator.clipboard.writeText(m),d.ZP.success("\u590D\u5236\u6210\u529F");case 8:case"end":return l.stop()}},D)}));return function(){return T.apply(this,arguments)}}();(0,j.useEffect)(function(){var T=p.sourceType,D=p.sourceVersion,v=new oe._q[T]({version:D});Oe(v),v.getData({level:"province",code:1e5}).then(function(m){ve(function(O){return C()(C()({},O),{},{data:m})})})},[p.sourceType,p.sourceVersion]);var Te=function(){var T=A()(u()().mark(function D(v){var m,O,l;return u()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(m=h(p.currentLevel),m!=="county"){R.next=3;break}return R.abrupt("return");case 3:return O={currentLevel:m,currentName:v.feature.properties.name,currentCode:v.feature.properties.adcode},De([].concat(S()(he),[O])),fe(C()(C()({},p),O)),R.next=8,I==null?void 0:I.getChildrenData({parentLevel:O.currentLevel,parentAdcode:O.currentCode,childrenLevel:h(m)});case 8:l=R.sent,ve(function(V){return C()(C()({},V),{},{data:l})});case 10:case"end":return R.stop()}},D)}));return function(v){return T.apply(this,arguments)}}(),Be=function(){var T=A()(u()().mark(function D(){var v,m,O,l;return u()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(v=he.slice(0,he.length-1),m=v[v.length-1],O=p.currentLevel,O!=="country"){R.next=5;break}return R.abrupt("return");case 5:return fe(C()(C()({},p),m)),De(v),R.next=9,I==null?void 0:I.getChildrenData({parentLevel:m.currentLevel,parentAdcode:m.currentCode,childrenLevel:O});case 9:l=R.sent,ve(function(V){return C()(C()({},V),{},{data:l})});case 11:case"end":return R.stop()}},D)}));return function(){return T.apply(this,arguments)}}(),be=(0,j.useMemo)(function(){return s()},[p.sourceType,p.currentLevel]);return(0,t.jsx)(x.Z,{spinning:!1,children:(0,t.jsxs)("div",{style:{display:"flex"},children:[(0,t.jsxs)(c.$2,C()(C()({},K),{},{style:{height:"calc(100vh - 180px)",width:"calc(100% - 300px)"},children:[(0,t.jsx)(c.Co,C()(C()({},M),{},{source:xe,onDblClick:Te,onUndblclick:Be,id:"myChoroplethLayer"})),(0,t.jsx)(c.Kh,{closeButton:!1,closeOnClick:!1,anchor:"bottom-left",trigger:"hover",items:be}),(0,t.jsx)(c.w3,{position:"bottomright"})]})),(0,t.jsxs)("div",{className:"panel",children:[(0,t.jsxs)(P.Z,{className:"row",children:[(0,t.jsx)(y.Z,{span:8,className:"label",children:"\u7248\u672C\uFF1A"}),(0,t.jsx)(y.Z,{span:16,style:{textAlign:"right"},children:(0,t.jsx)(Q.Z,{value:p.sourceVersion,size:"small",onChange:le.bind(null,"sourceVersion"),options:i[p.sourceType]})})]}),(0,t.jsx)(ne.Z,{style:{margin:"8px 0"}}),(0,t.jsxs)(re.Z,{title:"\u5F53\u524D\u5730\u533A",children:[(0,t.jsx)(re.Z.Item,{style:{width:"180px"},label:"\u540D\u79F0",children:p.currentName}),(0,t.jsx)(re.Z.Item,{label:"adcode",children:p.currentCode})]}),(0,t.jsxs)(P.Z,{className:"row",children:[(0,t.jsx)(y.Z,{span:12,className:"label",children:"\u5305\u542B\u5B50\u533A\u57DF:"}),(0,t.jsx)(y.Z,{span:12,style:{textAlign:"right"},children:(0,t.jsx)(se.Z,{style:{width:"32px"},checked:p.hasSubChildren,onChange:le.bind(null,"hasSubChildren")})})]}),p.hasSubChildren&&(0,t.jsxs)(P.Z,{className:"row",children:[(0,t.jsx)(y.Z,{span:10,className:"label",children:"\u5B50\u533A\u57DF\u7EA7\u522B:"}),(0,t.jsx)(y.Z,{span:14,style:{textAlign:"right"},children:(0,t.jsxs)(te.ZP.Group,{defaultValue:pe[0]||"province",size:ie,value:p.childrenLevel,onChange:function(D){le("childrenLevel",D.target.value)},children:[pe.indexOf("province")!==-1&&(0,t.jsx)(te.ZP.Button,{value:"province",children:"\u7701"}),pe.indexOf("city")!==-1&&(0,t.jsx)(te.ZP.Button,{value:"city",children:"\u5E02"}),(0,t.jsx)(te.ZP.Button,{value:"county",children:"\u53BF"})]})})]}),(0,t.jsxs)(P.Z,{className:"row",children:[(0,t.jsx)(y.Z,{span:6,className:"label",children:"\u6570\u636E\u4E0B\u8F7D:"}),(0,t.jsxs)(y.Z,{span:18,style:{textAlign:"right"},children:[(0,t.jsx)(Q.Z,{value:p.datatype,style:{width:120},size:ie,options:a,onChange:le.bind(null,"datatype")}),(0,t.jsx)(X.ZP,{type:"primary",style:{marginLeft:"8px"},icon:(0,t.jsx)(ee.Z,{}),size:ie,onClick:Ae}),(0,t.jsx)(X.ZP,{type:"primary",style:{marginLeft:"8px"},icon:(0,t.jsx)(H.Z,{}),onClick:Ie,size:ie})]})]}),(0,t.jsxs)(P.Z,{className:"row",children:[(0,t.jsx)(y.Z,{span:6,className:"label",children:"SVG\u4E0B\u8F7D:"}),(0,t.jsxs)(y.Z,{span:18,style:{textAlign:"right"},children:[(0,t.jsxs)(X.ZP,{style:{pointerEvents:"none",width:120},children:[" ",(0,t.jsx)(B.Z,{})," SVG"," "]}),(0,t.jsx)(X.ZP,{type:"primary",style:{marginLeft:"8px"},icon:(0,t.jsx)(ee.Z,{}),size:ie,onClick:Pe}),(0,t.jsx)(X.ZP,{type:"primary",style:{marginLeft:"8px"},icon:(0,t.jsx)(H.Z,{}),onClick:Ze,size:ie})]})]}),(0,t.jsx)(P.Z,{className:"row"}),(0,t.jsxs)("div",{className:"originData",style:{},children:[(0,t.jsx)("div",{children:"\u6570\u636E\u6765\u6E90\uFF1A"}),(0,t.jsx)("a",{href:"".concat(I==null||(k=I.info)===null||k===void 0||(J=k.desc)===null||J===void 0?void 0:J.href),children:"".concat(I==null||(q=I.info)===null||q===void 0||(de=q.desc)===null||de===void 0?void 0:de.text)})]})]})]})})}},61103:function(ue,w,e){e.r(w);var $=e(70844),S=e(10438),U=e(79995),u=e(67294),W=e(85893);w.default=function(){return(0,u.useEffect)(function(){var A=new $.Scene({id:"map1",map:new S.Z({center:[121.4,31.258134],zoom:2,pitch:0,style:"normal",doubleClickZoom:!1})}),G=new U.Ji({});G.getData({level:"province"}).then(function(z){var E=new $.PolygonLayer({autoFit:!0}).source(z).shape("fill").color("name",["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]).active(!1);A.addLayer(E)})},[]),(0,W.jsx)("div",{id:"map1",style:{height:"500px",position:"relative"}})}},54995:function(ue,w,e){e.r(w);var $=e(70844),S=e(10438),U=e(79995),u=e(67294),W=e(85893);w.default=function(){return(0,u.useEffect)(function(){var A=new $.Scene({id:"map",map:new S.Z({center:[121.4,31.258134],zoom:2,pitch:0,style:"normal",doubleClickZoom:!1})}),G=new U.Ji({});G.getChildrenData({parentAdcode:33e4,parentLevel:"province",childrenLevel:"city"}).then(function(z){var E=new $.PolygonLayer({autoFit:!0}).source(z).shape("fill").color("name",["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]).active(!1);A.addLayer(E)})},[]),(0,W.jsx)("div",{id:"map",style:{height:"500px",position:"relative"}})}},79995:function(ue,w,e){e.d(w,{_q:function(){return M},Ji:function(){return b}});var $=e(15009),S=e.n($),U=e(99289),u=e.n(U),W=e(12444),A=e.n(W),G=e(72004),z=e.n(G),E=e(25098),C=e.n(E),_=e(31996),F=e.n(_),ee=e(26037),H=e.n(ee),B=e(9783),c=e.n(B),d=e(97857),x=e.n(d),P=z()(function K(N){A()(this,K),c()(this,"info",{}),c()(this,"options",{}),c()(this,"data",{country:void 0,province:void 0,city:void 0,county:void 0,jiuduanxian:void 0}),c()(this,"version",void 0),c()(this,"fetchJsonData",function(){var L=u()(S()().mark(function n(s){var r;return S()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fetch(s);case 2:return r=i.sent,i.next=5,r.json();case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},n)}));return function(n){return L.apply(this,arguments)}}()),this.options=x()(x()({},this.getDefaultOptions()),N),this.version=this.options.version||"default"}),y={desc:{text:"DataV",href:"https://datav.aliyun.com/portal/school/atlas/area_selector"},url:"https://geo.datav.aliyun.com"},Q=function(K){F()(L,K);var N=H()(L);function L(){var n;A()(this,L);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return n=N.call.apply(N,[this].concat(r)),c()(C()(n),"info",y),n}return z()(L,[{key:"getDefaultOptions",value:function(){return{version:"areas_v3"}}},{key:"getRenderData",value:function(s){throw new Error("Method not implemented.")}},{key:"getData",value:function(s){var r=s.code,a=s.full,i=this.fetchData(r,a);return i}},{key:"getChildrenData",value:function(s){var r=s.parentName,a=s.full,i=this.fetchData(r,a);return i}},{key:"fetchData",value:function(){var n=u()(S()().mark(function r(a,i){var o,f,g,h;return S()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o="".concat(y.url,"/").concat(this.version,"/bound/").concat(a,".json"),f="".concat(y.url,"/").concat(this.version,"/bound/").concat(a,"_full.json"),!i){t.next=9;break}return t.next=5,this.fetchJsonData(f);case 5:return g=t.sent,t.abrupt("return",g);case 9:return t.next=11,this.fetchJsonData(o);case 11:return h=t.sent,t.abrupt("return",h);case 13:case"end":return t.stop()}},r,this)}));function s(r,a){return n.apply(this,arguments)}return s}()}]),L}(P),ne=e(13365),re=e(74951),se=e(3614),te=e.n(se),X={desc:{text:"\u9510\u591A\u5B9D\u7684\u5730\u7406\u7A7A\u95F4",href:"https://github.com/ruiduobao/shengshixian.com"},url:"https://unpkg.com/xingzhengqu"},oe={high:1e-6,middle:1e-5,low:.005},j={country:"country",province:"province",city:"city",county:"county",jiuduanxian:"jiuduanxian"},b=function(K){F()(L,K);var N=H()(L);function L(){var n;A()(this,L);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return n=N.call.apply(N,[this].concat(r)),c()(C()(n),"info",X),c()(C()(n),"fetchArrayBuffer",function(){var i=u()(S()().mark(function o(f){var g;return S()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,fetch(f);case 2:return g=Z.sent,Z.next=5,g.arrayBuffer();case 5:return Z.abrupt("return",Z.sent);case 6:case"end":return Z.stop()}},o)}));return function(o){return i.apply(this,arguments)}}()),n}return z()(L,[{key:"getDefaultOptions",value:function(){return{version:"2023"}}},{key:"getRenderData",value:function(){var n=u()(S()().mark(function r(a){return S()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.getData(a));case 1:case"end":return o.stop()}},r,this)}));function s(r){return n.apply(this,arguments)}return s}()},{key:"getData",value:function(){var n=u()(S()().mark(function r(a){var i,o,f,g,h;return S()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=a.level,o=i===void 0?"country":i,f=a.precision,g=f===void 0?"high":f,t.next=3,this.fetchData(o);case 3:return h=t.sent,t.abrupt("return",this.simplifyData(h,g));case 5:case"end":return t.stop()}},r,this)}));function s(r){return n.apply(this,arguments)}return s}()},{key:"getChildrenData",value:function(){var n=u()(S()().mark(function r(a){var i,o,f,g,h,Z;return S()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return i=a.parentAdcode,o=a.parentLevel,f=a.childrenLevel,g=a.precision,h=g===void 0?"low":g,ae.next=3,this.getData({level:f,precision:h});case 3:return Z=ae.sent,i&&o&&i!==1e5&&(Z.features=Z.features.filter(function(k){var J="".concat(o,"_adcode"),q=k.properties[J];return q===i})),ae.abrupt("return",Z);case 6:case"end":return ae.stop()}},r,this)}));function s(r){return n.apply(this,arguments)}return s}()},{key:"fetchData",value:function(){var n=u()(S()().mark(function r(a){var i,o,f;return S()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.data[a]){h.next=2;break}return h.abrupt("return",this.data[a]);case 2:return i="".concat(X.url,"@").concat(this.version,"/data/").concat(j[a],".pbf"),h.next=5,this.fetchArrayBuffer(i);case 5:return o=h.sent,f=re.decode(new(te())(o)),this.data[a]=f,h.abrupt("return",f);case 9:case"end":return h.stop()}},r,this)}));function s(r){return n.apply(this,arguments)}return s}()},{key:"simplifyData",value:function(s,r){return(0,ne.Z)(s,{tolerance:oe[r],highQuality:!1})}}]),L}(P),M={DataVSource:Q,RDBSource:b}}}]);
