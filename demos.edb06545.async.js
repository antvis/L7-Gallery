"use strict";(self.webpackChunkdistrict_data=self.webpackChunkdistrict_data||[]).push([[433],{15482:function(se,K,e){e.d(K,{H7:function(){return E},O6:function(){return T},Y2:function(){return $}});var U=e(78445),x=e(67473),Q=e.n(x),s=e(84893),X=e(12816),I=e.n(X),q=e(12450);function $(c){var d=(0,U.Z)(c).bbox||[-180,-90,180,90],C=1e3,A=800,y=Q()({mapExtent:{left:d[0],bottom:d[1],right:d[2],top:d[3]},precision:8,attributes:["properties.adcode","properties.name",{property:"stroke",value:"blue",type:"static"},{property:"fill",value:"#aaa",type:"static"}],viewportSize:{width:C,height:A},fitToViewBox:!0,outputFormat:"svg"}),W=y.convert(c).join();return'<svg width="'.concat(C,'" height="').concat(A,'" xmlns="http://www.w3.org/2000/svg"> ').concat(W,"</svg>")}function E(c,d){var C={folder:d,types:{point:"".concat(d,"points"),polygon:"".concat(d,"polygons"),line:"".concat(d,"lines")}};s.download(c,C)}function S(c){return JSON.stringify(q.MM({data:c}))}function _(c){return JSON.stringify(c)}function z(c){var d=c.features.map(function(y){return y.properties});if(d.length!==0){var C=Object.keys(d[0]||{}),A=[C.join(",")];return d.forEach(function(y){var W=C.map(function(ne){return y[ne]});A.push(W.join(","))}),A.join(`
`)}}function ee(c){var d=c.features.map(function(C){return C.properties});return JSON.stringify(d)}function F(c){var d=I()(c);return d}function T(c,d,C){var A=C==="SVG"?$(d):C==="TopoJSON"?S(d):C==="GeoJSON"?_(d):C==="CSV"?z(d):C==="JSON"?ee(d):C==="KML"?F(d):"",y=document.createElement("a");y.download="".concat(c,".").concat(C.toLowerCase()),y.href="data:text/json;charset=utf-8,".concat(encodeURIComponent(A)),y.target="_blank",y.rel="noreferrer",y.click()}},20668:function(se,K,e){e.r(K),e.d(K,{default:function(){return H}});var U=e(97857),x=e.n(U),Q=e(5574),s=e.n(Q),X=e(38244),I=e(76364),q=e(23672),$=e(18662),E=e(67294),S=e(15482),_=e(71721),z=e(74951),ee=e(3614),F=e.n(ee),T=e(85893),c=[{title:"name",dataIndex:"name",sorter:!0},{title:"adcode",dataIndex:"adcode"},{title:"city_type",dataIndex:"city_type"},{title:"city_adcode",dataIndex:"city_adcode"},{title:"name_en",dataIndex:"name_en"},{title:"name_var",dataIndex:"name_var"},{title:"province_adcode",dataIndex:"province_adcode"},{title:"province",dataIndex:"province"},{title:"province_type",dataIndex:"province_type"}],d=function(j){var b=(0,E.useState)(),B=s()(b,2),R=B[0],w=B[1],L=(0,E.useState)(!1),n=s()(L,2),u=n[0],r=n[1],a=function(){r(!0),fetch("https://unpkg.com/xingzhengqu@2023/data/city.pbf").then(function(o){return o.arrayBuffer()}).then(function(o){var f=z.decode(new(F())(o));j==null||j.onDataLoad({city:f});var g=f.features.map(function(h){return h.properties});w(g),r(!1)})};return(0,E.useEffect)(function(){a()},[]),(0,T.jsx)(_.Z,{columns:c,rowKey:function(o){return o.adcode},dataSource:R,loading:u,size:"small",scroll:{x:1e3,y:500},pagination:{pageSize:20,simple:!0}})},C=d,A=[{title:"name",dataIndex:"name",sorter:!0},{title:"adcode",dataIndex:"adcode"},{title:"county",dataIndex:"county"},{title:"county_type",dataIndex:"county_type"},{title:"city_type",dataIndex:"city_type"},{title:"county_adcode",dataIndex:"county_adcode"},{title:"city_adcode",dataIndex:"city_adcode"},{title:"name_en",dataIndex:"name_en"},{title:"name_var",dataIndex:"name_var"},{title:"province_adcode",dataIndex:"province_adcode"},{title:"province",dataIndex:"province"},{title:"province_type",dataIndex:"province_type"}],y=function(j){var b=(0,E.useState)(),B=s()(b,2),R=B[0],w=B[1],L=(0,E.useState)(!1),n=s()(L,2),u=n[0],r=n[1],a=function(){r(!0),fetch("https://unpkg.com/xingzhengqu@2023/data/county.pbf").then(function(o){return o.arrayBuffer()}).then(function(o){var f=z.decode(new(F())(o));j==null||j.onDataLoad({county:f});var g=f.features.map(function(h){return h.properties});w(g),r(!1)})};return(0,E.useEffect)(function(){a()},[]),(0,T.jsx)(_.Z,{columns:A,rowKey:function(o){return o.adcode},dataSource:R,loading:u,size:"small",scroll:{x:1e3,y:500},pagination:{pageSize:50,simple:!0}})},W=y,ne=[{title:"name",dataIndex:"name",sorter:!0,width:"20%"},{title:"name_en",dataIndex:"name_en",width:"20%"},{title:"name_var",dataIndex:"name_var"},{title:"adcode",dataIndex:"adcode"},{title:"province_adcode",dataIndex:"province_adcode"}],re=function(j){var b=(0,E.useState)(),B=s()(b,2),R=B[0],w=B[1],L=(0,E.useState)(!1),n=s()(L,2),u=n[0],r=n[1],a=function(){r(!0),fetch("https://unpkg.com/xingzhengqu@2023/data/province.pbf").then(function(o){return o.arrayBuffer()}).then(function(o){var f=z.decode(new(F())(o));j==null||j.onDataLoad({province:f});var g=f.features.map(function(h){return h.properties});w(g),r(!1)})};return(0,E.useEffect)(function(){a()},[]),(0,T.jsx)(_.Z,{columns:ne,rowKey:function(o){return o.adcode},dataSource:R,loading:u,size:"small",pagination:{pageSize:20},scroll:{x:1e3,y:500}})},ue=re,te=function(){var j=(0,E.useState)("province"),b=s()(j,2),B=b[0],R=b[1],w=(0,E.useState)({}),L=s()(w,2),n=L[0],u=L[1],r=function(g){R(g)},a=function(g){u(x()(x()({},n),g))},i=[{key:"province",label:"\u7701\u7EA7",children:(0,T.jsx)(ue,{onDataLoad:a})},{key:"city",label:"\u5E02\u7EA7",children:(0,T.jsx)(C,{onDataLoad:a})},{key:"county",label:"\u53BF\u7EA7",children:(0,T.jsx)(W,{onDataLoad:a})}],o=[{key:"csv",label:"CSV \u683C\u5F0F"},{key:"json",label:"JSON \u683C\u5F0F"}];return(0,T.jsx)(I.Z,{tabBarExtraContent:{right:(0,T.jsx)(q.Z,{menu:{items:o,onClick:function(g){var h=g.key;console.log(B,n),(0,S.O6)(B,n[B],h)}},placement:"bottom",children:(0,T.jsx)($.ZP,{type:"primary",shape:"round",icon:(0,T.jsx)(X.Z,{}),size:"middle",children:"\u5BFC\u51FA\u6570\u636E"})})},defaultActiveKey:"1",items:i,size:"large",style:{height:"650px"},onChange:r})},H=te},98504:function(se,K,e){e.r(K),e.d(K,{default:function(){return ae}});var U=e(19632),x=e.n(U),Q=e(15009),s=e.n(Q),X=e(99289),I=e.n(X),q=e(9783),$=e.n(q),E=e(97857),S=e.n(E),_=e(5574),z=e.n(_),ee=e(38244),F=e(58093),T=e(99290),c=e(98163),d=e(247),C=e(75081),A=e(25968),y=e(6226),W=e(33394),ne=e(96074),re=e(27511),ue=e(72269),te=e(33573),H=e(18662),oe=e(79995),j=e(67294),b=e(15482),B={autoFit:!0,fillColor:"#377eb8",opacity:.3,strokeColor:"blue",lineWidth:.5,state:{active:{strokeColor:"green",lineWidth:1.5,lineOpacity:.8},select:{strokeColor:"red",lineWidth:1.5,lineOpacity:.8}}},R={mapType:"Gaode",mapOptions:{style:"light",center:[120.210792,30.246026],zoom:3,doubleClickZoom:!1}},w={country:"province",province:"city",city:"district"},L={district:"city",city:"province",province:"country",country:"",jiuduanxian:""},n=function(J){var k=document.createElement("input");k.value=J,document.body.appendChild(k),k.select(),document.execCommand("Copy"),k.style.display="none",message.success("\u590D\u5236\u6210\u529F")},u=function(){return[{layer:"myChoroplethLayer",fields:[{field:"name",formatField:function(){return"\u540D\u79F0"}},{field:"adcode",formatField:"\u884C\u653F\u7F16\u53F7"}]}]},r=[{value:"DataVSource",label:"dataV\u6570\u636E\u6E90"},{value:"RDBSource",label:"\u6570\u636E\u6E90"}],a=[{key:"GeoJSON",value:"GeoJSON",label:"GeoJSON"},{key:"TopoJSON",value:"TopoJSON",label:"TopoJSON"},{key:"Shapefiles",value:"Shapefiles",label:"Shapefiles"},{key:"JSON",value:"JSON",label:"JSON"},{key:"CSV",value:"CSV",label:"CSV"},{key:"KML",value:"KML",label:"KML"}],i={DataVSource:[{value:"areas_v3",label:"areas_v3"},{value:"areas_v2",label:"areas_v2"}],RDBSource:[{value:"2023",label:"2023"},{value:"2022",label:"2022"}]},o=[{value:"low",label:"\u4F4E"},{value:"middle",label:"\u4E2D"},{value:"high",label:"\u9AD8"}],f={sourceType:"RDBSource",sourceVersion:"2023",currentLevel:"country",currentName:"\u4E2D\u56FD",currentCode:1e5,hasSubChildren:!0,childrenLevel:"province",datatype:"GeoJSON"},g=function(J){switch(J){case"country":return"country";case"province":return"country";case"city":return"province";case"county":return"city";default:return}},h=function(J){switch(J){case"country":return"province";case"province":return"city";case"city":return"county";case"county":return"county";default:return}},P=function(J){switch(console.log(J),J){case"country":return["province","city","county"];case"province":return["city","county"];case"city":return["county"];default:return[]}},t=e(85893),ae=function(){var Y,J,k,de,Ce=(0,j.useState)({data:{type:"FeatureCollection",features:[]},parser:{type:"geojson"}}),ye=z()(Ce,2),xe=ye[0],ve=ye[1],ie="middle",je=(0,j.useState)(f),me=z()(je,2),p=me[0],fe=me[1],Le=(0,j.useState)([{currentLevel:"country",currentName:"\u4E2D\u56FD",currentCode:1e5}]),ge=z()(Le,2),he=ge[0],De=ge[1],pe=(0,j.useMemo)(function(){return P(p.currentLevel)},[p.currentLevel]),le=function(D,v){fe(S()(S()({},p),{},$()({},D,v)))},Oe=(0,j.useState)(),Se=z()(Oe,2),Z=Se[0],Ee=Se[1],ce=function(){var N=I()(s()().mark(function D(){var v,m,O,l,G;return s()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(v=p.currentLevel,m=p.hasSubChildren,O=p.childrenLevel,l=p.currentCode,m){V.next=7;break}return V.next=4,Z==null?void 0:Z.getChildrenData({parentLevel:v,parentAdcode:l,childrenLevel:v});case 4:G=V.sent,V.next=10;break;case 7:return V.next=9,Z==null?void 0:Z.getChildrenData({parentLevel:v,parentAdcode:l,childrenLevel:O});case 9:G=V.sent;case 10:return V.abrupt("return",G);case 11:case"end":return V.stop()}},D)}));return function(){return N.apply(this,arguments)}}(),Ae=function(){var N=I()(s()().mark(function D(){var v,m,O;return s()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return v=p.datatype,m=p.currentName,G.next=3,ce();case 3:O=G.sent,v==="Shapefiles"?(0,b.H7)(O,m):(0,b.O6)(m,O,v);case 5:case"end":return G.stop()}},D)}));return function(){return N.apply(this,arguments)}}(),Ze=function(){var N=I()(s()().mark(function D(){var v,m;return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return v=p.currentName,l.next=3,ce();case 3:return m=l.sent,l.abrupt("return",(0,b.O6)(v,m,"SVG"));case 5:case"end":return l.stop()}},D)}));return function(){return N.apply(this,arguments)}}(),Ie=function(){var N=I()(s()().mark(function D(){var v,m;return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,ce();case 2:if(v=l.sent,m=p.datatype,m!=="Shapefiles"){l.next=7;break}return d.ZP.warning("\u6682\u4E0D\u652F\u6301\u590D\u5236Shapefiles\u6570\u636E"),l.abrupt("return");case 7:navigator.clipboard.writeText(JSON.stringify(v)),d.ZP.success("\u590D\u5236\u6210\u529F");case 9:case"end":return l.stop()}},D)}));return function(){return N.apply(this,arguments)}}(),Pe=function(){var N=I()(s()().mark(function D(){var v,m;return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,ce();case 2:return v=l.sent,l.next=5,(0,b.Y2)(v);case 5:m=l.sent,navigator.clipboard.writeText(m),d.ZP.success("\u590D\u5236\u6210\u529F");case 8:case"end":return l.stop()}},D)}));return function(){return N.apply(this,arguments)}}();(0,j.useEffect)(function(){var N=p.sourceType,D=p.sourceVersion,v=new oe._q[N]({version:D});Ee(v),v.getData({level:"province",code:1e5}).then(function(m){ve(function(O){return S()(S()({},O),{},{data:m})})})},[p.sourceType,p.sourceVersion]);var Ne=function(){var N=I()(s()().mark(function D(v){var m,O,l;return s()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(m=h(p.currentLevel),m!=="county"){M.next=3;break}return M.abrupt("return");case 3:return O={currentLevel:m,currentName:v.feature.properties.name,currentCode:v.feature.properties.adcode},De([].concat(x()(he),[O])),fe(S()(S()({},p),O)),M.next=8,Z==null?void 0:Z.getChildrenData({parentLevel:O.currentLevel,parentAdcode:O.currentCode,childrenLevel:h(m)});case 8:l=M.sent,ve(function(V){return S()(S()({},V),{},{data:l})});case 10:case"end":return M.stop()}},D)}));return function(v){return N.apply(this,arguments)}}(),Te=function(){var N=I()(s()().mark(function D(){var v,m,O,l;return s()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(v=he.slice(0,he.length-1),m=v[v.length-1],O=p.currentLevel,O!=="country"){M.next=5;break}return M.abrupt("return");case 5:return fe(S()(S()({},p),m)),De(v),M.next=9,Z==null?void 0:Z.getChildrenData({parentLevel:m.currentLevel,parentAdcode:m.currentCode,childrenLevel:O});case 9:l=M.sent,ve(function(V){return S()(S()({},V),{},{data:l})});case 11:case"end":return M.stop()}},D)}));return function(){return N.apply(this,arguments)}}(),be=(0,j.useMemo)(function(){return u()},[p.sourceType,p.currentLevel]);return(0,t.jsx)(C.Z,{spinning:!1,children:(0,t.jsxs)("div",{style:{display:"flex"},children:[(0,t.jsxs)(c.$2,S()(S()({},R),{},{style:{height:"calc(100vh - 180px)",width:"calc(100% - 300px)"},children:[(0,t.jsx)(c.Co,S()(S()({},B),{},{source:xe,onDblClick:Ne,onUndblclick:Te,id:"myChoroplethLayer"})),(0,t.jsx)(c.Kh,{closeButton:!1,closeOnClick:!1,anchor:"bottom-left",trigger:"hover",items:be}),(0,t.jsx)(c.w3,{position:"bottomright"})]})),(0,t.jsxs)("div",{className:"panel",children:[(0,t.jsxs)(A.Z,{className:"row",children:[(0,t.jsx)(y.Z,{span:8,className:"label",children:"\u7248\u672C\uFF1A"}),(0,t.jsx)(y.Z,{span:16,style:{textAlign:"right"},children:(0,t.jsx)(W.Z,{value:p.sourceVersion,size:"small",onChange:le.bind(null,"sourceVersion"),options:i[p.sourceType]})})]}),(0,t.jsx)(ne.Z,{style:{margin:"8px 0"}}),(0,t.jsxs)(re.Z,{title:"\u5F53\u524D\u5730\u533A",children:[(0,t.jsx)(re.Z.Item,{style:{width:"180px"},label:"\u540D\u79F0",children:p.currentName}),(0,t.jsx)(re.Z.Item,{label:"adcode",children:p.currentCode})]}),(0,t.jsxs)(A.Z,{className:"row",children:[(0,t.jsx)(y.Z,{span:12,className:"label",children:"\u5305\u542B\u5B50\u533A\u57DF:"}),(0,t.jsx)(y.Z,{span:12,style:{textAlign:"right"},children:(0,t.jsx)(ue.Z,{style:{width:"32px"},checked:p.hasSubChildren,onChange:le.bind(null,"hasSubChildren")})})]}),p.hasSubChildren&&(0,t.jsxs)(A.Z,{className:"row",children:[(0,t.jsx)(y.Z,{span:10,className:"label",children:"\u5B50\u533A\u57DF\u7EA7\u522B:"}),(0,t.jsx)(y.Z,{span:14,style:{textAlign:"right"},children:(0,t.jsxs)(te.ZP.Group,{defaultValue:pe[0]||"province",size:ie,value:p.childrenLevel,onChange:function(D){le("childrenLevel",D.target.value)},children:[pe.indexOf("province")!==-1&&(0,t.jsx)(te.ZP.Button,{value:"province",children:"\u7701"}),pe.indexOf("city")!==-1&&(0,t.jsx)(te.ZP.Button,{value:"city",children:"\u5E02"}),(0,t.jsx)(te.ZP.Button,{value:"county",children:"\u53BF"})]})})]}),(0,t.jsxs)(A.Z,{className:"row",children:[(0,t.jsx)(y.Z,{span:6,className:"label",children:"\u6570\u636E\u4E0B\u8F7D:"}),(0,t.jsxs)(y.Z,{span:18,style:{textAlign:"right"},children:[(0,t.jsx)(W.Z,{value:p.datatype,style:{width:120},size:ie,options:a,onChange:le.bind(null,"datatype")}),(0,t.jsx)(H.ZP,{type:"primary",style:{marginLeft:"8px"},icon:(0,t.jsx)(ee.Z,{}),size:ie,onClick:Ae}),(0,t.jsx)(H.ZP,{type:"primary",style:{marginLeft:"8px"},icon:(0,t.jsx)(F.Z,{}),onClick:Ie,size:ie})]})]}),(0,t.jsxs)(A.Z,{className:"row",children:[(0,t.jsx)(y.Z,{span:6,className:"label",children:"SVG\u4E0B\u8F7D:"}),(0,t.jsxs)(y.Z,{span:18,style:{textAlign:"right"},children:[(0,t.jsxs)(H.ZP,{style:{pointerEvents:"none",width:120},children:[" ",(0,t.jsx)(T.Z,{})," SVG"," "]}),(0,t.jsx)(H.ZP,{type:"primary",style:{marginLeft:"8px"},icon:(0,t.jsx)(ee.Z,{}),size:ie,onClick:Ze}),(0,t.jsx)(H.ZP,{type:"primary",style:{marginLeft:"8px"},icon:(0,t.jsx)(F.Z,{}),onClick:Pe,size:ie})]})]}),(0,t.jsx)(A.Z,{className:"row"}),(0,t.jsxs)("div",{className:"originData",style:{},children:[(0,t.jsx)("div",{children:"\u6570\u636E\u6765\u6E90\uFF1A"}),(0,t.jsx)("a",{href:"".concat(Z==null||(Y=Z.info)===null||Y===void 0||(J=Y.desc)===null||J===void 0?void 0:J.href),children:"".concat(Z==null||(k=Z.info)===null||k===void 0||(de=k.desc)===null||de===void 0?void 0:de.text)})]})]})]})})}},61103:function(se,K,e){e.r(K);var U=e(70844),x=e(10438),Q=e(79995),s=e(67294),X=e(85893);K.default=function(){return(0,s.useEffect)(function(){var I=new U.Scene({id:"map",map:new x.Z({center:[121.4,31.258134],zoom:2,pitch:0,style:"normal",doubleClickZoom:!1})}),q=new Q.Ji({});q.getData({level:"province"}).then(function($){var E=new U.PolygonLayer({autoFit:!0}).source($).shape("fill").color("name",["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]).active(!1);I.addLayer(E)})},[]),(0,X.jsx)("div",{id:"map",style:{height:"500px",position:"relative"}})}},79995:function(se,K,e){e.d(K,{_q:function(){return B},Ji:function(){return b}});var U=e(15009),x=e.n(U),Q=e(99289),s=e.n(Q),X=e(12444),I=e.n(X),q=e(72004),$=e.n(q),E=e(25098),S=e.n(E),_=e(31996),z=e.n(_),ee=e(26037),F=e.n(ee),T=e(9783),c=e.n(T),d=e(97857),C=e.n(d),A=$()(function R(w){I()(this,R),c()(this,"info",{}),c()(this,"options",{}),c()(this,"data",{country:void 0,province:void 0,city:void 0,county:void 0,jiuduanxian:void 0}),c()(this,"version",void 0),c()(this,"fetchJsonData",function(){var L=s()(x()().mark(function n(u){var r;return x()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fetch(u);case 2:return r=i.sent,i.next=5,r.json();case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},n)}));return function(n){return L.apply(this,arguments)}}()),this.options=C()(C()({},this.getDefaultOptions()),w),this.version=this.options.version||"default"}),y={desc:{text:"DataV",href:"https://datav.aliyun.com/portal/school/atlas/area_selector"},url:"https://geo.datav.aliyun.com"},W=function(R){z()(L,R);var w=F()(L);function L(){var n;I()(this,L);for(var u=arguments.length,r=new Array(u),a=0;a<u;a++)r[a]=arguments[a];return n=w.call.apply(w,[this].concat(r)),c()(S()(n),"info",y),n}return $()(L,[{key:"getDefaultOptions",value:function(){return{version:"areas_v3"}}},{key:"getRenderData",value:function(u){throw new Error("Method not implemented.")}},{key:"getData",value:function(u){var r=u.code,a=u.full,i=this.fetchData(r,a);return i}},{key:"getChildrenData",value:function(u){var r=u.parentName,a=u.full,i=this.fetchData(r,a);return i}},{key:"fetchData",value:function(){var n=s()(x()().mark(function r(a,i){var o,f,g,h;return x()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o="".concat(y.url,"/").concat(this.version,"/bound/").concat(a,".json"),f="".concat(y.url,"/").concat(this.version,"/bound/").concat(a,"_full.json"),!i){t.next=9;break}return t.next=5,this.fetchJsonData(f);case 5:return g=t.sent,t.abrupt("return",g);case 9:return t.next=11,this.fetchJsonData(o);case 11:return h=t.sent,t.abrupt("return",h);case 13:case"end":return t.stop()}},r,this)}));function u(r,a){return n.apply(this,arguments)}return u}()}]),L}(A),ne=e(13365),re=e(74951),ue=e(3614),te=e.n(ue),H={desc:{text:"\u9510\u591A\u5B9D\u7684\u5730\u7406\u7A7A\u95F4",href:"https://github.com/ruiduobao/shengshixian.com"},url:"https://unpkg.com/xingzhengqu"},oe={high:1e-6,middle:1e-5,low:.005},j={country:"country",province:"province",city:"city",county:"county",jiuduanxian:"jiuduanxian"},b=function(R){z()(L,R);var w=F()(L);function L(){var n;I()(this,L);for(var u=arguments.length,r=new Array(u),a=0;a<u;a++)r[a]=arguments[a];return n=w.call.apply(w,[this].concat(r)),c()(S()(n),"info",H),c()(S()(n),"fetchArrayBuffer",function(){var i=s()(x()().mark(function o(f){var g;return x()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,fetch(f);case 2:return g=P.sent,P.next=5,g.arrayBuffer();case 5:return P.abrupt("return",P.sent);case 6:case"end":return P.stop()}},o)}));return function(o){return i.apply(this,arguments)}}()),n}return $()(L,[{key:"getDefaultOptions",value:function(){return{version:"2023"}}},{key:"getRenderData",value:function(){var n=s()(x()().mark(function r(a){return x()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.getData(a));case 1:case"end":return o.stop()}},r,this)}));function u(r){return n.apply(this,arguments)}return u}()},{key:"getData",value:function(){var n=s()(x()().mark(function r(a){var i,o,f,g,h;return x()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=a.level,o=i===void 0?"country":i,f=a.precision,g=f===void 0?"high":f,t.next=3,this.fetchData(o);case 3:return h=t.sent,t.abrupt("return",this.simplifyData(h,g));case 5:case"end":return t.stop()}},r,this)}));function u(r){return n.apply(this,arguments)}return u}()},{key:"getChildrenData",value:function(){var n=s()(x()().mark(function r(a){var i,o,f,g,h,P;return x()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return i=a.parentAdcode,o=a.parentLevel,f=a.childrenLevel,g=a.precision,h=g===void 0?"low":g,ae.next=3,this.getData({level:f,precision:h});case 3:return P=ae.sent,i&&o&&i!==1e5&&(P.features=P.features.filter(function(Y){var J="".concat(o,"_adcode"),k=Y.properties[J];return k===i})),ae.abrupt("return",P);case 6:case"end":return ae.stop()}},r,this)}));function u(r){return n.apply(this,arguments)}return u}()},{key:"fetchData",value:function(){var n=s()(x()().mark(function r(a){var i,o,f;return x()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.data[a]){h.next=2;break}return h.abrupt("return",this.data[a]);case 2:return i="".concat(H.url,"@").concat(this.version,"/data/").concat(j[a],".pbf"),h.next=5,this.fetchArrayBuffer(i);case 5:return o=h.sent,f=re.decode(new(te())(o)),this.data[a]=f,h.abrupt("return",f);case 9:case"end":return h.stop()}},r,this)}));function u(r){return n.apply(this,arguments)}return u}()},{key:"simplifyData",value:function(u,r){return(0,ne.Z)(u,{tolerance:oe[r],highQuality:!1})}}]),L}(A),B={DataVSource:W,RDBSource:b}}}]);
